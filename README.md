# MyoMi
정기배송 웹 서비스  
### 프로젝트 소개  
### 서비스 이름: 묘미  
### 개발기간  
1차: 2023년 1월 3일~ 1월 24일  
2차: 2023년 1월 31일-2023년 3월 14일  

### 목적  
 1. spring data JPA 학습  
 스프링 Data JPA를 이용한 정기배송 쇼핑몰 서비스를 만들어 보면서 JPA 개발  
 구조를 익히고자 한다.
 
  2. 한 단계 발전한 정기배송 서비스  
  기존 정기배송은 샐러드, 도시락, 밀키트 등이 한번에 정기 주문할 수 있는 사이  
  트를 찾기 힘든데 묘미는 샐러드/도시락/밀키트를 주 단위로 한번에 주문할 수 있  
  게하여 배송비를 절감하고 포인트 적립의 기회를 더 가질 수 있도록 기획함.
    
  3. 웹 프로젝트 설계 과정 학습  
  프로그램을 구현하기 위해 DB설계, Backend, Frontend 모든 개발 과정에 직접  
  참여하고 Spring, Bootstrap 등을 이용해 전반적인 웹 사이트 설계 과정을 학  
  습.
  
  ### 개발환경  
   ● 개발 OS: Windows, MacOS  
   ● DBMS: Oracle 11g  
   ● Web: HTML5, CSS, JavaScript, jQUery, AJAX  
   ● 개발도구: Eclipse 4.26.0, Visual Studio Code 1.76.1  
   ● 웹서버: Apache Tomcat 9.0  
   ● 데이터베이스 툴 및 모델링 : SQL Developer, eXERD  
   ● 개발 언어 : Java11  
   ● 프레임워크: Spring FrameWork 5.3.25, Springboot 5.7.6, Spring-Data JPA 5.7.6  
   ● 협업관리 툴: github  
   ● 프로젝트관리 툴: Notion  
   ● 팀 구성: pm 1명, 팀원 4명  
     
   ### 요구사항  
   1.리뷰  
   -회원으로 로그인 시 마이페이지의 주문정보에서 내가 구매한 상품에 대한 리뷰를  
   작성할 수 있다.  
   -회원은 내 리뷰를 확인하고 수정할 수 있다.  
   2. 공지사항  
   -회원은 공지사항의 목록과 상세 글을 조회할 수 있다.  
   -관리자는 공지사항을 작성,수정,삭제할 수 있다.  
   3.관리자  
   -관리자는 일반회원의 판매자 신청 상태를 조회할 수 있다.  
   -관리자는 일반회원의 판매자 신청을 승인 혹은 반려해줄 수 있다.  
 
   ### 개발 상세내용
 프로젝트 설계과정에서 팀 규칙을 정한 후 이벤트 스토밍을 통해 정기배송 웹서비스에서 제공할 서비스와 
 도메인을 파악했다.<br>
 프로젝트 개발에 Scrum을 적용하였다. 주 단위 스프린트를 설정해 주차별로 집중해서 개발할 기능, 업무 등을 
 나누고 피드백했다.<br>
 또한, Daily Scrum을 진행하며 각자 어제 진행한 사항과 오늘 진행할 사항, 기능 구 
현 중 만난 오류를 공유하였다.<br>
팀원들이 공통의 오류를 겪었을 때 Daily Scrum을 통해 함께 고민하며 빠른 디버깅을 할 수 있었다.<br>
기능 구현 과정에서Junit5를 사용하여 프로젝트에서 구현한 JPA Repository의 CRUD 기능들을 테스트했으며,<br>
Swagger2와 Postman으로 도메인별 API를 관리하고 테스트했다.
   <br/><br/>
   ### 페이지별 설명  
  
   #### 1. 상품 상세보기(리뷰 부분)
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/a5f3870d-6563-436e-85cc-7fc3a02a70e4)

   ##### 기본설명  
   : 상품을 눌렀을 때, 상품의 리뷰와 베스트 리뷰를 확인할 수 있다.
   
  ##### 어려웠던 점  
  : 한 상품에 대해 베스트리뷰가 없어도 리뷰가 나오고 베스트리뷰가 있다면 
    리뷰와 베스트리뷰가 동시에 나오게 해야 했다.  
    하지만 쿼리문을 하나만 이용해서 베스트리뷰가 없으면 
    리뷰가 조회되지 않는 문제 발생했다.  
     
   ##### 해결 방법
   : 리뷰를 찾는 쿼리문과 베스트 리뷰를 찾는 쿼리문을 따로 만들어주었다.  
  <br/>
   
  #### 2.공지사항 목록
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/284a88c4-ca0d-4400-bda4-431a0316e9e0)

 
   ##### 기본설명 
   : 로그인을 하지 않아도 공지를 조회하고 제목검색을 할 수 있다.  
   관리자로 로그인하지 않으면 글작성버튼이 보이지 않는다. 관리자로 로그인하면 글 작성 버튼을 눌러 작성페이지로 넘어갈 수 있다.  
     
   ##### 어려웠던 점
   : 공지사항 목록을 조회할 때 일반회원이 로그인하면 글작성 버튼이 보이지 않게 해야하는데 로그인 여부만으로는 일반회원과 관리자를 구분할 수 없었다.  
     
   ##### 해결 방법
   : 기본적으로 글 작성 버튼을 숨기고, 관리자id에게 role 번호 2를 부여해 role이 2일 때만 공지사항 목록에서 글작성버튼이 보이게 했다.  
    <br/>
  #### 3.공지사항 상세보기
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/409f3ea6-5527-4110-88af-bafa73a93a9b)
 
  ##### 기본설명  
   : 공지사항을 상세보기할 수 있다. <br/>
     관리자에게 user role을 2로 부여해 로그인 시 쿠키로 가져온 user Role이 2일 때만 수정과 삭제버튼이 보이게 했다.  
     <br/>
   #### 4. 공지사항 작성  
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/f1bd1cb8-c255-47bc-aca0-57e92e4fbd2f)
   ##### 기본설명
   : 공지사항 작성은 관리자만 가능하며, 제목, 내용을 입력하지 않으면 작성되지 않는다. 
    내용은 최대 500자까지만 작성할 수 있으며 500자를 넘기면 자동으로 알려준다.  
    <br/> 
  #### 5.공지사항 수정  
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/6fa10213-bb72-4907-8c71-86458bedd9c2)

     
  ##### 기본설명  
  : 공지사항 수정은 제목과 내용을 수정할 수 있다. 내용은 500자까지만 작성 가능하다.  
     <br/>
   #### 5. 상품 리뷰 작성 
   ![image](https://user-images.githubusercontent.com/66251647/231718328-78fe741e-4a2e-450f-92a3-b5112bb41abc.png)  
     
  ##### 기본설명
  : 마이페이지의 주문목록에서 리뷰를 작성할 수 있다.<br/>
   리뷰는 제목, 별점, 내용, 사진 첨부를 할 수 있고, 
   사진 첨부를 제외하고 모든 항목을 작성해야 리뷰 작성이 완료된다.  
   별점은 1~5점 까지 0.5점 단위로 줄 수 있으며  최대 500자까지 작성가능하다. 
   사진을 첨부하지 않으면 일반리뷰로 등록되고, <br/>
   사진을 첨부하면 포토리뷰로 등록된다. <br/>
   일반리뷰를 작성하면 200포인트를 적립 받고, 포토리뷰는 500포인트를 적립 받을 수 있다.  
   포토리뷰는 베스트리뷰로 선정될 수 있다.  
     
  ##### 어려웠던 점
  : 리뷰 작성시 상품번호와 주문번호 모두가 필요했는데, 내 주문페이지에서 받아오는 방법이 고민되었다.  
     
  ##### 해결 방법
  : 주문번호랑 상품번호를 내 주문페이지에 숨겨놓고, 리뷰작성을 눌렀을 때 주소에 쿼리스트링으로 두 번호를 받아 작성페이지로 넘어가게 했다.
  <br/>
#### 6. 내 리뷰 목록, 내 리뷰 상세보기  
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/d0f818f9-22f6-4337-8623-7964d3a38399)
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/1c4961d5-72e1-4bbb-b449-c132c6eebd3a)
  
 ##### 기본설명 
 : 내 리뷰 목록에서 리뷰들을 볼 수 있다. 글을 클릭하면 상세보기를 할 수 있고, 베스트리뷰가 아닐 때 수정도 가능하다.  
    
  #### 7. 리뷰 수정  
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/40497f65-7c5c-43b9-8412-12aa1fc13e1b)
  
  ##### 기본설명  
 : 리뷰 수정은 제목과 내용만 수정할 수 있다. 내용은 500자까지 수정 가능하다. 
  <br/>수정하는 리뷰의 상품명을 볼 수 있다.  
  만약 베스트리뷰라면 수정버튼을 눌렀을 때 수정버튼이 비활성화된다.
  <br/>
  #### 8. 판매자 상품목록, 판매자 상품 리뷰
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/bab42a8d-c5c2-40c0-a13a-e65196ea4714)
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/f5ef6b63-6b5e-4eab-9238-7b14ff211553)
    
  ##### 기본설명  
 : 내 스토어 상품의 리뷰들을 볼 수 있으며 포토리뷰는 베스트리뷰 선정이 가능하다.  
   리뷰를 선정하고 나면 해당 리뷰의 리뷰선정 버튼이 비활성화 된다.  
     <br/>
  #### 9.판매자 정보 목록, 판매자 상세보기 
   ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/209980ed-9f71-4953-82a1-1b1778d86ebe)
   ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/aa91cdff-5e8e-4294-86f8-9a4488b7b9ba)
  ![image](https://github.com/oh-taehyun/myomibackend/assets/66251647/99b3335d-10be-49fc-81a4-b0ee75fc95ba)

   ##### 기본설명  
   : 관리자는 판매자 신청이 들어온 것을 관리자 페이지에서 승인상태별로 확인할 수 있다.  
     확인하고 싶은 판매자를 눌렀을 때 승인 대기 혹은 승인 거절 상태라면 승인이나 승인거절을 눌러 상태변경을 할 수 있다.






   

   
   
   
   
